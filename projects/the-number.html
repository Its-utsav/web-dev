<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>guess the number</title>
    <style>
      * {
        background-color: #161a30;
        color: #f0ece5;
        font-family: "Lucida Sans", "Lucida Sans Regular", "Lucida Grande",
          "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
        text-align: center;
      }
      #wrapper {
        /* background-color: rgb(89, 233, 233); */
        border: 2px solid #b6bbc4;
      }
      .submit {
        border: none;
        border-radius: 3px;
        color: #31304d;
        background-color: #b6bbc4;
        margin-top: 40px;
        width: 100px;
        height: 30px;
      }
      .submit:hover {
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div id="wrapper">
      <h1>Guess a number</h1>
      <p>
        guess the number between 1 to 100 ,<br />
        you have total 10 chance
      </p>
      <form action="#" class="form">
        <label>
          Guess the number:
          <input
            type="number"
            name=""
            id="numinput"
            placeholder="Enter any number"
          />
        </label>
        <br />
        <input type="button" value="submit" class="submit" />
      </form>

      <div class="resultSection">
        <p>Previous Guess:<span class="guess"></span></p>
        <p>Guess Remaining:<span class="remain">10</span></p>
        <br />
        <p class="ans"></p>
      </div>
    </div>
    <!-- script -->

    <script>
      let randomNumber = parseInt(Math.random() * 100 + 1);
      const userNumInput = document.querySelector("#numinput");
      const submit = document.querySelector(".submit");
      const guessNum = document.querySelector(".guess");
      const ans = document.querySelector(".ans");
      const restart = document.querySelector(".resultSection");
      const remain = document.querySelector(".remain");

      const p = document.createElement("p");
      //   console.log(userNumInput);
      console.log(randomNumber);
      let perGuess = [];
      let numGuess = 1;

      let playGame = true;

      if (playGame) {
        console.log(randomNumber);
        submit.addEventListener("click", (e) => {
          e.preventDefault(); // this will not send to the server
          const guess = parseInt(userNumInput.value);
          console.log(typeof guess);
          validateGuess(guess);
        });
      }

      const validateGuess = (guess) => {
        if (guess < 0 && isNaN(guess)) {
          console.log(`${guess} is less than zero`);
        } else if (guess >= 100) {
          console.log(`${guess} is more than 100`);
        } else {
          perGuess.push();
          if (numGuess === 11) {
            displayGuess(guess);
            displayMsg(`Game Over. Random number was ${randomNumber}.`);
            endGame();
          } else {
            displayGuess(guess);
            checkGuess(guess);
          }
        }
      };

      const checkGuess = (guess) => {
        if (guess === randomNumber) {
          displayMsg(`you guess right ${guess} is random number.`);
          endGame();
          console.log(`${guess} number is equal to random number.`);
        } else if (guess < randomNumber) {
          displayMsg(`your guess   is TOOO low`);
          //   displayMsg(`your guess  ${guess} is TOOO low`);
          console.log(`${guess} number is less than to random number.`);
        } else if (guess > randomNumber) {
          displayMsg(`your guess  is TOOO high`);
          //   displayMsg(`your guess  ${guess} is TOOO high`);
          console.log(`${guess} number is grater than to random number.`);
        }
      };
      const displayGuess = (guess) => {
        userNumInput.value = "";
        guessNum.innerHTML += ` ${guess}`;
        numGuess++;
        remain.innerHTML = `${11 - numGuess}`;
      };
      const displayMsg = (msg) => {
        ans.innerHTML = ` ${msg}`;
      };
      const endGame = () => {
        userNumInput.setAttribute("disabled", "");
        p.classList.add("button");
        p.innerHTML = `<button id="newgame">start agian </button>`;
        restart.appendChild(p);
        playGame = false;
        newGame();
      };
      const newGame = () => {
        const newGameBtn = document.getElementById("newgame");
        newGameBtn.addEventListener("click", (e) => {
          randomNumber = parseInt(Math.random() * 100 + 1);
          let perGuess = [];
          let numGuess = 1;
          guessNum.innerHTML = "";
          remain.innerHTML = `${11 - numGuess}`
          userNumInput.removeAttribute("disabled");
          restart.removeChild(p);
          playGame = true;
        });
      };
    </script>
  </body>
</html>
